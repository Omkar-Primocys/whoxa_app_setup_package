'use strict';const a0_0x509611=a0_0x10a9;(function(_0x24264c,_0x23b38b){const _0x251161=a0_0x10a9,_0x478a5b=_0x24264c();while(!![]){try{const _0x3e212d=-parseInt(_0x251161(0xd9))/0x1*(parseInt(_0x251161(0x11d))/0x2)+-parseInt(_0x251161(0x168))/0x3*(-parseInt(_0x251161(0xee))/0x4)+-parseInt(_0x251161(0x108))/0x5+-parseInt(_0x251161(0xe3))/0x6+-parseInt(_0x251161(0x16d))/0x7*(-parseInt(_0x251161(0x183))/0x8)+parseInt(_0x251161(0x1c3))/0x9+parseInt(_0x251161(0x11b))/0xa;if(_0x3e212d===_0x23b38b)break;else _0x478a5b['push'](_0x478a5b['shift']());}catch(_0x460846){_0x478a5b['push'](_0x478a5b['shift']());}}}(a0_0x2d2c,0x1937e));var __create=Object[a0_0x509611(0x13e)],__defProp=Object[a0_0x509611(0x14e)],__getOwnPropDesc=Object['getOwnPropertyDescriptor'],__getOwnPropNames=Object[a0_0x509611(0x10b)],__getProtoOf=Object['getPrototypeOf'],__hasOwnProp=Object['prototype'][a0_0x509611(0xfe)],__export=(_0x2e9075,_0x13080d)=>{const _0x22814b=a0_0x509611,_0x3f65df={'uQfII':function(_0x8f5ec7,_0x414d6a,_0x5e0533,_0x308c16){return _0x8f5ec7(_0x414d6a,_0x5e0533,_0x308c16);}};for(var _0x5cbdf3 in _0x13080d)_0x3f65df[_0x22814b(0xf7)](__defProp,_0x2e9075,_0x5cbdf3,{'get':_0x13080d[_0x5cbdf3],'enumerable':!![]});},__copyProps=(_0x599667,_0x55d072,_0x59d4ee,_0x4f05d6)=>{const _0x198b08=a0_0x509611,_0x25a908={'TfdjK':function(_0x44c759,_0x187c04){return _0x44c759===_0x187c04;},'JHvgo':_0x198b08(0x107),'mRwoH':_0x198b08(0x166),'xDjHa':function(_0x4b29cc,_0x1b0b31){return _0x4b29cc(_0x1b0b31);},'OTmWD':function(_0x2c6f09,_0x21cd38){return _0x2c6f09!==_0x21cd38;},'fMDNq':function(_0x4b6855,_0x7ca377,_0x6e40ec,_0x23e834){return _0x4b6855(_0x7ca377,_0x6e40ec,_0x23e834);},'hbAaj':function(_0x1b47c2,_0x4cdf04,_0x585cec){return _0x1b47c2(_0x4cdf04,_0x585cec);}};if(_0x55d072&&_0x25a908[_0x198b08(0xf6)](typeof _0x55d072,_0x25a908[_0x198b08(0x10d)])||_0x25a908[_0x198b08(0xf6)](typeof _0x55d072,_0x25a908[_0x198b08(0xea)])){for(let _0x5e3651 of _0x25a908[_0x198b08(0x114)](__getOwnPropNames,_0x55d072))if(!__hasOwnProp['call'](_0x599667,_0x5e3651)&&_0x25a908['OTmWD'](_0x5e3651,_0x59d4ee))_0x25a908[_0x198b08(0xec)](__defProp,_0x599667,_0x5e3651,{'get':()=>_0x55d072[_0x5e3651],'enumerable':!(_0x4f05d6=_0x25a908[_0x198b08(0x174)](__getOwnPropDesc,_0x55d072,_0x5e3651))||_0x4f05d6[_0x198b08(0x137)]});}return _0x599667;},__toESM=(_0x38217a,_0x575176,_0x183a24)=>(_0x183a24=_0x38217a!=null?__create(__getProtoOf(_0x38217a)):{},__copyProps(_0x575176||!_0x38217a||!_0x38217a[a0_0x509611(0x131)]?__defProp(_0x183a24,a0_0x509611(0x12a),{'value':_0x38217a,'enumerable':!![]}):_0x183a24,_0x38217a)),__toCommonJS=_0x4d999e=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x4d999e),index_exports={};__export(index_exports,{'createApp':()=>createApp}),module[a0_0x509611(0x1bd)]=__toCommonJS(index_exports);var import_express=__toESM(require(a0_0x509611(0xe1))),import_cors=__toESM(require(a0_0x509611(0x15f))),import_body_parser=__toESM(require(a0_0x509611(0x19d))),import_path2=__toESM(require(a0_0x509611(0x14b))),import_fs=__toESM(require('fs')),import_path=__toESM(require(a0_0x509611(0x14b))),import_axios=__toESM(require(a0_0x509611(0x133))),import_os=__toESM(require('os')),getmac=require(a0_0x509611(0x199))[a0_0x509611(0x12a)],TOKEN_PATH=import_path[a0_0x509611(0x12a)]['join'](process[a0_0x509611(0xd1)](),a0_0x509611(0x150)),VERIFY_URL=a0_0x509611(0x178),VALIDATE_URL=a0_0x509611(0x1a4);function a0_0x10a9(_0x1dfdf1,_0x52ca9c){const _0x2d2c5c=a0_0x2d2c();return a0_0x10a9=function(_0x10a982,_0x547787){_0x10a982=_0x10a982-0xc1;let _0x383029=_0x2d2c5c[_0x10a982];return _0x383029;},a0_0x10a9(_0x1dfdf1,_0x52ca9c);}function getMacAddress(){const _0x402b30=a0_0x509611,_0x5bac8b={'QZFrU':function(_0x48d6ad){return _0x48d6ad();},'TDufd':_0x402b30(0x111)};try{const _0x23d217=_0x5bac8b[_0x402b30(0x13d)](getmac);return _0x23d217;}catch(_0x216cde){return console[_0x402b30(0xca)](_0x5bac8b[_0x402b30(0x18d)],_0x216cde),null;}}function getServerIP(){const _0x515927=a0_0x509611,_0x2643d5={'BgbvG':function(_0x4c7fe5,_0x54a888){return _0x4c7fe5===_0x54a888;},'JLFei':_0x515927(0xfc),'UKbkb':_0x515927(0x127)},_0x4d3d75=import_os[_0x515927(0x12a)][_0x515927(0xf5)]();for(const _0x1dddcb in _0x4d3d75){const _0x1bf720=_0x4d3d75[_0x1dddcb];if(_0x1bf720)for(const _0x2c875b of _0x1bf720){if(_0x2643d5['BgbvG'](_0x2c875b[_0x515927(0xe6)],_0x2643d5[_0x515927(0x10a)])&&!_0x2c875b[_0x515927(0xf4)])return _0x2c875b['address'];}}return _0x2643d5[_0x515927(0x169)];}async function verifyToken(){const _0x42f7c6=a0_0x509611,_0xc5fad4={'JlTpX':function(_0xaf49b3){return _0xaf49b3();}};if(!import_fs['default']['existsSync'](TOKEN_PATH))return![];try{const _0x144063=await import_fs[_0x42f7c6(0x12a)][_0x42f7c6(0xf9)]['readFile'](TOKEN_PATH,'utf-8'),_0x2307f6=await import_axios['default']['post'](VERIFY_URL,{'server_ip':_0xc5fad4[_0x42f7c6(0x17e)](getServerIP),'mac_address':_0xc5fad4[_0x42f7c6(0x17e)](getMacAddress),'token':_0x144063});if(!_0x2307f6[_0x42f7c6(0x104)][_0x42f7c6(0xc8)])return![];return _0x2307f6[_0x42f7c6(0x104)][_0x42f7c6(0xc8)];}catch(_0x2310e4){return console[_0x42f7c6(0xca)](_0x42f7c6(0xff),_0x2310e4),![];}}async function CheckTokenverifyTokenRecreation(){const _0x2e8d72=a0_0x509611,_0x3044e9={'qYjyU':function(_0x434c58,_0x307981){return _0x434c58-_0x307981;},'znAIC':function(_0x3f3dc3,_0x35e41f){return _0x3f3dc3*_0x35e41f;},'qiBbX':function(_0x2fd7e1,_0x5dc090){return _0x2fd7e1<_0x5dc090;},'gcAOH':_0x2e8d72(0xcb),'sMprx':function(_0x492387){return _0x492387();}};try{if(!import_fs[_0x2e8d72(0x12a)]['existsSync'](TOKEN_PATH))return![];const _0x2cb1cb=await import_fs['default'][_0x2e8d72(0xf9)][_0x2e8d72(0x18b)](TOKEN_PATH),_0x6e23a2=_0x2cb1cb['birthtime'],_0xfa320c=new Date(),_0x5e051e=_0x3044e9['qYjyU'](_0xfa320c[_0x2e8d72(0x186)](),_0x6e23a2[_0x2e8d72(0x186)]())/(_0x3044e9[_0x2e8d72(0x126)](0x3e8,0x3c)*0x3c);if(_0x3044e9[_0x2e8d72(0x135)](_0x5e051e,0x2))return!![];const _0x43e2df=await import_fs[_0x2e8d72(0x12a)][_0x2e8d72(0xf9)]['readFile'](TOKEN_PATH,_0x3044e9[_0x2e8d72(0x1c9)]),_0x463ab0=await import_axios['default'][_0x2e8d72(0x155)](VERIFY_URL,{'server_ip':_0x3044e9[_0x2e8d72(0x16a)](getServerIP),'mac_address':_0x3044e9['sMprx'](getMacAddress),'token':_0x43e2df});if(!_0x463ab0['data']['success'])return await import_fs['default'][_0x2e8d72(0xf9)]['unlink'](TOKEN_PATH),![];return await import_fs[_0x2e8d72(0x12a)]['promises']['unlink'](TOKEN_PATH),await import_fs[_0x2e8d72(0x12a)][_0x2e8d72(0xf9)]['writeFile'](TOKEN_PATH,_0x43e2df,_0x2e8d72(0xcb)),!![];}catch(_0x2bb067){return console[_0x2e8d72(0xca)](_0x2e8d72(0xff),_0x2bb067),![];}}async function validatePurchase(_0x96d16c){const _0x5035de=a0_0x509611,_0x48bfad={'eUChS':_0x5035de(0x1af),'YWwJe':'Username\x20is\x20required.','VunwJ':_0x5035de(0x1a3),'ImvSS':_0x5035de(0xf8),'hByNH':function(_0x5efb4a){return _0x5efb4a();},'xYCEY':_0x5035de(0x167),'OwcmY':_0x5035de(0x11e),'FCTuM':_0x5035de(0xed),'YmnoF':_0x5035de(0x152)},{purchase_code:_0x5a1ffe,username:_0x185009}=_0x96d16c;if(!_0x5a1ffe)return{'success':![],'message':_0x48bfad['eUChS']};if(!_0x185009)return{'success':![],'message':_0x48bfad[_0x5035de(0x1b4)]};try{const _0x5c0134=await import_axios[_0x5035de(0x12a)]['post'](VALIDATE_URL,{'purchase_code':_0x5a1ffe,'username':_0x185009},{'headers':{'Content-Type':_0x48bfad[_0x5035de(0x17a)],'Accept':_0x48bfad['VunwJ'],'User-Agent':_0x48bfad[_0x5035de(0x1ab)],'X-MAC-Address':_0x48bfad[_0x5035de(0xde)](getMacAddress),'X-Device-IP':getServerIP()}}),_0x31105b=_0x5c0134[_0x5035de(0x104)];if([_0x48bfad[_0x5035de(0x1a0)],'error',_0x48bfad[_0x5035de(0x15a)]][_0x5035de(0x165)](_0x31105b['status']))return{'success':![],'message':_0x31105b['message']};if(_0x31105b[_0x5035de(0x1c6)]){const _0x5e902b=import_path[_0x5035de(0x12a)][_0x5035de(0x18c)](TOKEN_PATH);!import_fs[_0x5035de(0x12a)][_0x5035de(0x112)](_0x5e902b)&&import_fs[_0x5035de(0x12a)][_0x5035de(0x125)](_0x5e902b,{'recursive':!![]}),import_fs[_0x5035de(0x12a)][_0x5035de(0x164)](TOKEN_PATH,_0x31105b[_0x5035de(0x1c6)]);}return{'success':!![],'token':_0x31105b[_0x5035de(0x1c6)]};}catch(_0x321560){return console[_0x5035de(0xca)](_0x48bfad['FCTuM'],_0x321560),{'success':![],'message':_0x48bfad[_0x5035de(0x185)]};}}var import_multer=__toESM(require(a0_0x509611(0x122))),import_mime_types=__toESM(require(a0_0x509611(0xc1))),import_fs2=__toESM(require('fs')),storage=import_multer[a0_0x509611(0x12a)]['diskStorage']({'destination':(_0x53f411,_0x51a6d6,_0x4218fe)=>{const _0x35b374=a0_0x509611,_0x1e4259={'sLqww':_0x35b374(0xdc),'WUgRw':_0x35b374(0x138),'iukiF':'./uploads/image','gRdWe':'video','slxWs':_0x35b374(0x19a),'dvxSG':_0x35b374(0xeb),'QjljE':_0x35b374(0xce),'gbkHt':_0x35b374(0x12d),'XnqWK':_0x35b374(0x179),'cJOKw':'gif','tzSyZ':_0x35b374(0x18f),'HWUkY':_0x35b374(0xc9),'bJzoN':_0x35b374(0xf1),'YAJzI':_0x35b374(0x194),'rHnji':_0x35b374(0x10c),'oRxCr':_0x35b374(0x177),'AceVA':_0x35b374(0x1ac),'wRlPI':function(_0x4dde65,_0x12f3d2,_0x5168fe){return _0x4dde65(_0x12f3d2,_0x5168fe);}};let _0x1899a3=_0x1e4259[_0x35b374(0x118)];const _0x352c1f=_0x53f411[_0x35b374(0x187)]?.[_0x35b374(0x159)];switch(_0x352c1f){case _0x1e4259['WUgRw']:_0x1899a3=_0x1e4259[_0x35b374(0xda)];break;case _0x1e4259[_0x35b374(0x17b)]:const _0x104967=import_mime_types[_0x35b374(0x12a)][_0x35b374(0x15c)](_0x51a6d6['originalname']);_0x104967&&_0x104967['includes'](_0x35b374(0x138))?_0x1899a3=_0x1e4259[_0x35b374(0x1b2)]:_0x1899a3=_0x1e4259['dvxSG'];break;case _0x1e4259[_0x35b374(0x103)]:_0x1899a3='./uploads/document';break;case _0x1e4259['gbkHt']:_0x1899a3=_0x1e4259['XnqWK'];break;case _0x1e4259[_0x35b374(0x15e)]:_0x1899a3=_0x1e4259[_0x35b374(0x1ae)];break;case'wallpaper':_0x1899a3=_0x1e4259[_0x35b374(0x1ad)];break;default:if(_0x53f411[_0x35b374(0x13f)][_0x35b374(0x165)](_0x1e4259[_0x35b374(0x1bf)]))_0x1899a3=_0x1e4259['YAJzI'];else{if(_0x53f411[_0x35b374(0x13f)][_0x35b374(0x165)](_0x1e4259[_0x35b374(0x1c0)]))_0x1899a3=_0x1e4259[_0x35b374(0x182)];else _0x53f411[_0x35b374(0x13f)][_0x35b374(0x165)](_0x1e4259[_0x35b374(0x1c5)])&&(_0x1899a3='./uploads/avtars');}break;}!import_fs2[_0x35b374(0x12a)][_0x35b374(0x112)](_0x1899a3)&&import_fs2[_0x35b374(0x12a)][_0x35b374(0x125)](_0x1899a3,{'recursive':!![]}),_0x1e4259['wRlPI'](_0x4218fe,null,_0x1899a3);},'filename':(_0x33ad75,_0x5910c7,_0xa8c5f9)=>{const _0x51181c=a0_0x509611,_0x593cea={'xOWdm':function(_0x33c9db,_0x1286e3,_0x11e801){return _0x33c9db(_0x1286e3,_0x11e801);}},_0x43199b=Date[_0x51181c(0x1be)]()+'-'+_0x5910c7[_0x51181c(0x141)][_0x51181c(0x16c)]('#')['join']('-')[_0x51181c(0x16c)](',')[_0x51181c(0x1c4)]('-')[_0x51181c(0x16c)](':')[_0x51181c(0x1c4)]('-')['split']('\x20')[_0x51181c(0x1c4)]('-');_0x593cea['xOWdm'](_0xa8c5f9,null,_0x43199b);}}),upload=(0x0,import_multer[a0_0x509611(0x12a)])({'storage':storage}),upload_default=upload,import_jsonwebtoken=__toESM(require(a0_0x509611(0x124)));function authMiddleware(_0x10ac61,_0x2766f,_0x32683f){const _0x41ef1a=a0_0x509611,_0x19322a={'OdSSs':_0x41ef1a(0x188),'YUDms':_0x41ef1a(0xd0),'vCyXn':_0x41ef1a(0x12e),'KZLqR':_0x41ef1a(0xd4),'zGqgl':_0x41ef1a(0x116),'AWGYd':'Invalid\x20token!'},_0x34e3ff=_0x10ac61['headers'][_0x41ef1a(0x148)];if(!_0x34e3ff)return _0x2766f[_0x41ef1a(0xfd)](0x193)[_0x41ef1a(0x12f)]({'error':_0x19322a[_0x41ef1a(0x117)]});if(!_0x34e3ff['startsWith'](_0x19322a['YUDms']))return _0x2766f[_0x41ef1a(0xfd)](0x193)[_0x41ef1a(0x12f)]({'error':_0x19322a[_0x41ef1a(0x16f)]});try{const _0x1e97f3=_0x34e3ff[_0x41ef1a(0x16c)]('\x20')[0x1],_0x24d3e9=process[_0x41ef1a(0x1bb)][_0x41ef1a(0x110)];if(!_0x24d3e9)throw new Error(_0x19322a[_0x41ef1a(0x180)]);_0x10ac61[_0x41ef1a(0xf3)]=import_jsonwebtoken[_0x41ef1a(0x12a)][_0x41ef1a(0xcd)](_0x1e97f3,_0x24d3e9);}catch(_0x2d43cf){return console[_0x41ef1a(0xca)](_0x19322a[_0x41ef1a(0x121)],_0x2d43cf),_0x2766f[_0x41ef1a(0xfd)](0x193)[_0x41ef1a(0x12f)]({'message':_0x19322a['AWGYd'],'success':![]});}_0x32683f();}var validatePurchaseCode=async(_0x538326,_0x2f4bbf,_0x47fbfc)=>{const _0x21d932=a0_0x509611,_0x1d7e5e={'adukr':function(_0x3cdec9){return _0x3cdec9();},'pLPnk':function(_0x87ee31){return _0x87ee31();}},_0x4f804d=await _0x1d7e5e[_0x21d932(0x11f)](CheckTokenverifyTokenRecreation);if(!_0x4f804d)return _0x2f4bbf[_0x21d932(0x153)](import_path2[_0x21d932(0x12a)][_0x21d932(0x1c4)](process[_0x21d932(0xd1)](),_0x21d932(0x1c8),'validate.html'));_0x1d7e5e[_0x21d932(0x119)](_0x47fbfc);},fileUploadMiddleware=upload_default['fields']([{'name':'files','maxCount':0xa},{'name':a0_0x509611(0x1ba),'maxCount':0x1}]);function a0_0x2d2c(){const _0x75d29b=['data','Language_setting','language_functions','object','621745BwPeUh','XrSoY','JLFei','getOwnPropertyNames','add-status','JHvgo','TWILIO_AUTH_TOKEN','android_link','JWT_SECRET_KEY','Error\x20fetching\x20MAC\x20address:','existsSync','wYlAC','xDjHa','yWDsF','JWT\x20verification\x20error:','OdSSs','sLqww','pLPnk','TWILIO_FROM_NUMBER','1789350fkOPJY','routes','1522QVNVvq','invalid','adukr','cronJobs','zGqgl','multer','connection','jsonwebtoken','mkdirSync','znAIC','IP\x20address\x20not\x20found','laLUp','schedule','default','MXxti','https://whoxachat.com/','audio','Invalid\x20token\x20format!','json','addLanguageColumn','__esModule','static','axios','ios_link','qiBbX','deJGB','enumerable','image','QIpOt','models','admin_routes','user_id','QZFrU','create','url','Whoxa\x20Chat','originalname','KLFKV','fSOJU','Error\x20in\x20checkWebsettingAndCreate:','sequelize','One_signal_setting','fetchLanguages','authorization','rPVTd','English','path','pLhWN','Server','defineProperty','jwtSecret','node_modules/credentials_keys/validatedToken.txt','blxPZ','Validation\x20failed!','sendFile','Group_Setting','post','sIpnO','jVPQL','/socket','message_type','OwcmY','Admin@123','lookup','bxXLS','cJOKw','cors','MCOOM','kOEDJ','Error\x20in\x20checkAdminAndCreate:','dcPvI','writeFileSync','includes','function','used','322743KoDyfS','UKbkb','sMprx','forEach','split','35567yQrFRd','Error\x20adding\x20default\x20entries:','vCyXn','http','uploads/avtars/Admin.png','XOafm','Nierc','hbAaj','HgLIQ','aazAu','./uploads/status','http://62.72.36.245:1142/verify_new','./uploads/audio','VunwJ','gRdWe','length','onConnect','JlTpX','describeTable','KZLqR','findOne','oRxCr','200iDZyVi','addColumn','YmnoF','getTime','body','No\x20credentials\x20sent!','warn','Admin','stat','dirname','TDufd','Error\x20in\x20checkAppsettingAndCreate:','./uploads/gif','OmRYZ','ZErGv','NGQsO','enableSocket','./uploads/profile','get','Socket\x20IO\x20required\x20Params\x20not\x20found','readFileSync','uploads/others/appLogo','getmac','./uploads/thumbnail','default_language.json\x20not\x20found\x20in\x20host\x20project\x20root:','VIolr','body-parser','SWPZY','files','xYCEY','App_Setting','One\x20signal\x20appid','application/json','http://62.72.36.245:1142/validate','tpMzN','TFPRv','Error\x20processing\x20languages:','onSocketConnect','GYLAZ','TWILIO_ACCOUNT_SID','ImvSS','avtar','HWUkY','tzSyZ','Purchase\x20code\x20is\x20required.','node-cron','PdDph','slxWs','XvRFp','YWwJe','XbOou','handshake','Invalid\x20token','socket.io','frontend','darkLogo','env','uLcMf','exports','now','bJzoN','rHnji','RsMKm','query','572841kLGoxj','join','AceVA','token','nFpDh','public','gcAOH','mime-types','Missing\x20token','/uploads','parse','urlencoded','tell_a_friend_link','/public','success','./uploads/wallpaper','error','utf-8','OnesignalAPIKey','verify','document','voIgC','Bearer\x20','cwd','App_Flow','sfVSz','JWT_SECRET_KEY\x20is\x20not\x20defined\x20in\x20environment\x20variables','WhoxaText','index.html','MZLnV','message','103gKjzZW','iukiF','gKLvB','./uploads/others','TdmAe','hByNH','demo@whoxa.com','âŒ\x20Socket\x20auth\x20error:','express','Whoxa','1026984DbkwBI','vFPaM','Error\x20in\x20checkAppFlowAndCreate:','family','NyOIE','uceVV','SCZBg','mRwoH','./uploads/video','fMDNq','Validation\x20error:','4qeJilB','default_language.json','Sequelize','user-details','getQueryInterface','authData','internal','networkInterfaces','TfdjK','uQfII','Your\x20User\x20Agent','promises','#ffff','UserSocket','IPv4','status','hasOwnProperty','Error\x20during\x20token\x20verification:','use','Language_status','Language_settings','QjljE'];a0_0x2d2c=function(){return _0x75d29b;};return a0_0x2d2c();}function fileUploadWrapper(_0x5885af,_0x5cfd61,_0x29551b){const _0x381809=a0_0x509611,_0x5875f4={'DBVag':'3|0|1|5|2|4','jVPQL':_0x381809(0x1ba),'XOafm':_0x381809(0x19f),'XrSoY':function(_0x14674c,_0x2e729e){return _0x14674c(_0x2e729e);}};fileUploadMiddleware(_0x5885af,_0x5cfd61,function(_0x1d40f7){const _0x50a205=_0x381809,_0x1c6e0f=_0x5875f4['DBVag'][_0x50a205(0x16c)]('|');let _0x52e942=0x0;while(!![]){switch(_0x1c6e0f[_0x52e942++]){case'0':_0x5885af[_0x50a205(0x1ba)]=_0x5885af?.[_0x50a205(0x19f)]?.[_0x5875f4[_0x50a205(0x157)]]||[];continue;case'1':_0x5885af[_0x50a205(0x19f)]=_0x5885af?.[_0x50a205(0x19f)]?.[_0x5875f4[_0x50a205(0x172)]]||[];continue;case'2':_0x5885af[_0x50a205(0x19f)][_0x50a205(0x16b)]((_0x43e91a,_0x5ce65d)=>{});continue;case'3':if(_0x1d40f7)return _0x5875f4[_0x50a205(0x109)](_0x29551b,_0x1d40f7);continue;case'4':_0x29551b();continue;case'5':_0x5885af[_0x50a205(0x1ba)][_0x50a205(0x16b)]((_0x58d14b,_0xd729e5)=>{});continue;}break;}});}async function setupExpress(_0x1a600f={}){const _0x4c1014=a0_0x509611,_0x9e5494={'fSOJU':'/api/validate','yWDsF':function(_0x56208c){return _0x56208c();},'QIpOt':function(_0x42f50e,_0x2a16b4,_0x5ef544,_0x23ef73){return _0x42f50e(_0x2a16b4,_0x5ef544,_0x23ef73);},'TdmAe':function(_0x3f3f3f,_0x4911a7){return _0x3f3f3f(_0x4911a7);},'gKLvB':'Validation\x20successful!','ThQIp':_0x4c1014(0xd6),'kYfBS':_0x4c1014(0x1b9),'AtEFq':'admin','MCOOM':_0x4c1014(0x1c8),'vFPaM':'/api'},_0x1a7552=(0x0,import_express[_0x4c1014(0x12a)])();_0x1a7552[_0x4c1014(0x100)]((0x0,import_cors[_0x4c1014(0x12a)])({'origin':'*'})),_0x1a7552['use'](import_body_parser[_0x4c1014(0x12a)][_0x4c1014(0x12f)]()),_0x1a7552[_0x4c1014(0x100)](import_body_parser[_0x4c1014(0x12a)][_0x4c1014(0xc5)]({'extended':!![]})),await _0x9e5494[_0x4c1014(0x115)](verifyToken),_0x1a7552[_0x4c1014(0x100)](async(_0x1d83e1,_0x18e99c,_0x5f1d20)=>{const _0x491526=_0x4c1014;if(_0x1d83e1[_0x491526(0x14b)]===_0x9e5494[_0x491526(0x143)])return _0x9e5494[_0x491526(0x115)](_0x5f1d20);await _0x9e5494[_0x491526(0x139)](validatePurchaseCode,_0x1d83e1,_0x18e99c,_0x5f1d20);}),_0x1a7552['post'](_0x9e5494[_0x4c1014(0x143)],async(_0x233fa9,_0x2b1058)=>{const _0x1c239f=_0x4c1014,_0x178252=await _0x9e5494[_0x1c239f(0xdd)](validatePurchase,_0x233fa9['body']);if(!_0x178252[_0x1c239f(0xc8)])return _0x2b1058[_0x1c239f(0xfd)](0x190)[_0x1c239f(0x12f)]({'error':_0x178252[_0x1c239f(0xd8)]});_0x2b1058['json']({'message':_0x9e5494[_0x1c239f(0xdb)],'token':_0x178252['token']});});const _0x4b942b=import_path2[_0x4c1014(0x12a)][_0x4c1014(0x1c4)](process['cwd'](),_0x9e5494['kYfBS']),_0x73d02b=import_path2['default'][_0x4c1014(0x1c4)](process['cwd'](),_0x9e5494['AtEFq']);return _0x1a7552[_0x4c1014(0x100)](_0x4c1014(0xc3),import_express[_0x4c1014(0x12a)]['static']('uploads')),_0x1a7552['use'](_0x4c1014(0xc7),import_express['default']['static'](_0x9e5494[_0x4c1014(0x160)])),_0x1a7552[_0x4c1014(0x100)](import_express['default'][_0x4c1014(0x132)](_0x4b942b)),_0x1a7552[_0x4c1014(0x100)](import_express[_0x4c1014(0x12a)][_0x4c1014(0x132)](_0x73d02b)),_0x1a7552[_0x4c1014(0x195)](/^\/admin(\/.*)?$/,(_0x10388a,_0xda530b)=>_0xda530b['sendFile'](import_path2[_0x4c1014(0x12a)][_0x4c1014(0x1c4)](_0x73d02b,_0x4c1014(0xd6)))),_0x1a7552[_0x4c1014(0x195)]('/',(_0x2b72fb,_0x404274)=>_0x404274['sendFile'](import_path2[_0x4c1014(0x12a)][_0x4c1014(0x1c4)](_0x4b942b,_0x4c1014(0xd6)))),_0x1a7552['get'](/.*/,(_0x4aa692,_0x57f370)=>{const _0x5d64c9=_0x4c1014;_0x57f370['sendFile'](import_path2[_0x5d64c9(0x12a)][_0x5d64c9(0x1c4)](_0x4b942b,_0x9e5494['ThQIp']));}),_0x1a7552[_0x4c1014(0x100)](fileUploadWrapper),_0x1a7552[_0x4c1014(0x100)](_0x9e5494[_0x4c1014(0xe4)],_0x1a600f[_0x4c1014(0x11c)]?.['no_auth_route']),_0x1a7552[_0x4c1014(0x100)]('/api',authMiddleware,_0x1a600f[_0x4c1014(0x11c)]?.['auth_routes']),_0x1a7552['use'](_0x9e5494[_0x4c1014(0xe4)],authMiddleware,_0x1a600f[_0x4c1014(0x11c)]?.[_0x4c1014(0x13b)]),_0x1a7552;}var import_socket=require(a0_0x509611(0x1b8)),import_jsonwebtoken2=__toESM(require('jsonwebtoken'));function setupSocketIO(_0x1affa6,_0x1d8747){const _0x1576ce=a0_0x509611,_0x486c03={'VIolr':function(_0x108bee,_0x1b5bcd){return _0x108bee(_0x1b5bcd);},'nFpDh':function(_0x2b518b){return _0x2b518b();},'sIpnO':_0x1576ce(0x158),'SwBxf':_0x1576ce(0x123)},_0x19c6d3=new import_socket[(_0x1576ce(0x14d))](_0x1affa6,{'cors':{'origin':'*'},'path':_0x486c03[_0x1576ce(0x156)]});return _0x19c6d3[_0x1576ce(0x100)](async(_0x41e238,_0x47c95f)=>{const _0x4b8341=_0x1576ce,_0x5e5914=_0x41e238[_0x4b8341(0x1b6)][_0x4b8341(0x1c2)]['token'];if(!_0x5e5914)return _0x486c03[_0x4b8341(0x19c)](_0x47c95f,new Error(_0x4b8341(0xc2)));try{const _0x3ceaa0=import_jsonwebtoken2[_0x4b8341(0x12a)][_0x4b8341(0xcd)](_0x5e5914,_0x1d8747[_0x4b8341(0x14f)]),_0x1b42cf=_0x3ceaa0[_0x4b8341(0x13c)];_0x41e238[_0x4b8341(0x1b6)][_0x4b8341(0x1c2)][_0x4b8341(0x13c)]=_0x1b42cf,await _0x1d8747['models']['UserSocket'][_0x4b8341(0x13e)]({'user_id':_0x1b42cf,'socketId':_0x41e238['id']}),_0x486c03[_0x4b8341(0x1c7)](_0x47c95f);}catch(_0x5f1343){console[_0x4b8341(0xca)](_0x4b8341(0xe0),_0x5f1343),_0x486c03[_0x4b8341(0x19c)](_0x47c95f,new Error(_0x4b8341(0x1b7)));}}),_0x1d8747[_0x1576ce(0x17d)]&&_0x19c6d3['on'](_0x486c03['SwBxf'],_0xc195c3=>_0x1d8747['onConnect'](_0xc195c3,_0x19c6d3)),_0x19c6d3;}var import_http=__toESM(require(a0_0x509611(0x170))),import_node_cron=__toESM(require(a0_0x509611(0x1b0)));async function checkAdminAndCreate(_0x13e379){const _0x174f5d=a0_0x509611,_0x1e92f8={'NGQsO':_0x174f5d(0xdf),'HQbpE':_0x174f5d(0x18a),'ClpgU':_0x174f5d(0x15b),'KGDZR':_0x174f5d(0x171),'MXxti':_0x174f5d(0x162)};try{const _0x5b0a78=await _0x13e379[_0x174f5d(0x181)]({'where':{'admin_id':0x1}});if(_0x5b0a78)return;await _0x13e379[_0x174f5d(0x13e)]({'user_id':0x1,'admin_email':_0x1e92f8[_0x174f5d(0x192)],'admin_name':_0x1e92f8['HQbpE'],'admin_password':_0x1e92f8['ClpgU'],'profile_pic':_0x1e92f8['KGDZR']});}catch(_0x57a358){console[_0x174f5d(0xca)](_0x1e92f8[_0x174f5d(0x12b)],_0x57a358);}}async function checkAppFlowAndCreate(_0x5b8511){const _0x1a14b0=a0_0x509611,_0x19b809={'KLFKV':_0x1a14b0(0xe5)};try{const _0x41cffb=await _0x5b8511[_0x1a14b0(0x181)]({'where':{'setting_id':0x1}});!_0x41cffb&&await _0x5b8511[_0x1a14b0(0x13e)]();}catch(_0x53eb26){console['error'](_0x19b809[_0x1a14b0(0x142)],_0x53eb26);}}async function checkAppsettingAndCreate(_0xa797e7,_0x467169){const _0x2f0327=a0_0x509611,_0x48f755={'pLhWN':function(_0xe36c75,_0x122f85){return _0xe36c75===_0x122f85;},'rPVTd':_0x2f0327(0xe2),'dcPvI':_0x2f0327(0xd5),'bxXLS':_0x2f0327(0xfa),'Nierc':_0x2f0327(0x12c),'XvRFp':'JWT_SECRET_KEY','uceVV':_0x2f0327(0x198)};try{const _0x4279af=await _0xa797e7['findOne']({'where':{'setting_id':0x1}}),_0x8da979=await _0x467169['findAll']();_0x48f755[_0x2f0327(0x14c)](_0x8da979[_0x2f0327(0x17c)],0x0)&&await _0x467169['create']({'max_members':0xa});if(_0x4279af)return;await _0xa797e7[_0x2f0327(0x13e)]({'app_name':_0x48f755[_0x2f0327(0x149)],'app_email':_0x2f0327(0xdf),'app_text':_0x48f755[_0x2f0327(0x163)],'app_color_primary':_0x48f755[_0x2f0327(0x15d)],'app_color_secondary':_0x48f755[_0x2f0327(0x15d)],'app_link':_0x48f755[_0x2f0327(0x173)],'ios_link':_0x2f0327(0x12c),'android_link':_0x48f755[_0x2f0327(0x173)],'tell_a_friend_link':_0x48f755[_0x2f0327(0x173)],'baseUrl':'https://whoxachat.com/','TWILIO_ACCOUNT_SID':process['env']['TWILIO_ACCOUNT_SID'],'TWILIO_AUTH_TOKEN':process['env'][_0x2f0327(0x10e)],'TWILIO_FROM_NUMBER':process[_0x2f0327(0x1bb)][_0x2f0327(0x11a)],'JWT_SECRET_KEY':_0x48f755[_0x2f0327(0x1b3)],'app_logo':_0x48f755[_0x2f0327(0xe8)]});}catch(_0x42cad4){console[_0x2f0327(0xca)](_0x2f0327(0x18e),_0x42cad4);}}var checkGroupsettingAndCreate=async _0x281973=>{const _0x45072d=a0_0x509611,_0x57db39={'WLgUs':'Error\x20in\x20checkGroupsettingAndCreate:'};try{const _0x3e1fc4=await _0x281973[_0x45072d(0x181)]({'where':{'setting_id':0x1}});if(_0x3e1fc4)return;else await _0x281973[_0x45072d(0x13e)]({'max_members':0xa});}catch(_0x461208){console[_0x45072d(0xca)](_0x57db39['WLgUs'],_0x461208);}},import_fs3=__toESM(require('fs')),import_path3=__toESM(require('path')),addDefaultEntries=async(_0x4bca5b,_0x3039c6,_0x33522d,_0x12fbcd)=>{const _0x3ad1fe=a0_0x509611,_0x2f93c7={'blxPZ':_0x3ad1fe(0x14a),'tpMzN':'ltr','RsMKm':_0x3ad1fe(0x102),'kafgn':_0x3ad1fe(0xef),'xecfj':_0x3ad1fe(0xcb)};try{const _0x5a018f=await _0x4bca5b[_0x3ad1fe(0x181)]({'where':{'language':_0x2f93c7[_0x3ad1fe(0x151)]}});!_0x5a018f&&await _0x4bca5b['create']({'language':_0x3ad1fe(0x14a),'country':'US','language_alignment':_0x2f93c7[_0x3ad1fe(0x1a5)],'status':0x1,'default_status':0x1});const _0x322366=_0x33522d[_0x3ad1fe(0xf2)](),_0x40b028=await _0x322366[_0x3ad1fe(0x17f)](_0x2f93c7[_0x3ad1fe(0x1c1)]);!_0x40b028[_0x2f93c7['blxPZ']]&&await _0x322366[_0x3ad1fe(0x184)]('Language_settings',_0x3ad1fe(0x14a),{'type':_0x12fbcd['STRING'],'allowNull':!![]});const _0x49bf27=import_path3[_0x3ad1fe(0x12a)]['join'](process['cwd'](),_0x2f93c7['kafgn']);if(!import_fs3[_0x3ad1fe(0x12a)][_0x3ad1fe(0x112)](_0x49bf27)){console[_0x3ad1fe(0x189)](_0x3ad1fe(0x19b),_0x49bf27);return;}const _0x8507c4=JSON[_0x3ad1fe(0xc4)](import_fs3['default'][_0x3ad1fe(0x197)](_0x49bf27,_0x2f93c7['xecfj']));for(const _0x4dc800 of _0x8507c4){const {key:_0x50c74e}=_0x4dc800,_0xa3aba0=await _0x3039c6[_0x3ad1fe(0x181)]({'where':{'key':_0x50c74e}});!_0xa3aba0&&await _0x3039c6[_0x3ad1fe(0x13e)]({'key':_0x50c74e,'English':_0x50c74e});}}catch(_0x143f61){console[_0x3ad1fe(0xca)](_0x3ad1fe(0x16e),_0x143f61);}};async function processLanguages(_0x25b5ee,_0x4e281c){const _0x3289a6=a0_0x509611,_0x53ca8e={'aymCd':function(_0x3c75b7){return _0x3c75b7();},'wYlAC':function(_0xf02f4e,_0x8ee947){return _0xf02f4e>_0x8ee947;},'GYLAZ':function(_0x439b9c,_0x43e89b){return _0x439b9c<_0x43e89b;},'gbOFI':_0x3289a6(0x1a7)};try{const _0x558882=await _0x53ca8e['aymCd'](_0x25b5ee);if(_0x558882&&_0x53ca8e[_0x3289a6(0x113)](_0x558882[_0x3289a6(0x17c)],0x0))for(let _0x35e927=0x0;_0x53ca8e[_0x3289a6(0x1a9)](_0x35e927,_0x558882['length']);_0x35e927++){const _0x49763c=_0x558882[_0x35e927];await _0x4e281c(_0x49763c);}else{}}catch(_0x30bdce){console[_0x3289a6(0xca)](_0x53ca8e['gbOFI'],_0x30bdce);}}async function checkOneSignalsettingAndCreate(_0x532391){const _0x1d4375=a0_0x509611,_0x39593b={'sfVSz':_0x1d4375(0xcc),'qEFDr':_0x1d4375(0x1a2),'OmRYZ':'Error\x20in\x20checkOneSignalsettingAndCreate:'};try{const _0x2d1b1f=await _0x532391['findOne']({'where':{'setting_id':0x1}});if(_0x2d1b1f)return;await _0x532391[_0x1d4375(0x13e)]({'ONESIGNAL_API_KEY':_0x39593b[_0x1d4375(0xd3)],'ONESIGNAL_APPID':_0x39593b['qEFDr']});}catch(_0x567116){console[_0x1d4375(0xca)](_0x39593b[_0x1d4375(0x190)],_0x567116);}}async function checkWebsettingAndCreate(_0x1620ee){const _0x2ac730=a0_0x509611,_0x25f096={'SWPZY':_0x2ac730(0x140),'uLcMf':'whoxa\x20text','NyOIE':_0x2ac730(0xfa),'aazAu':_0x2ac730(0x12c),'kOEDJ':_0x2ac730(0x134),'TFPRv':_0x2ac730(0x10f),'RyMHA':_0x2ac730(0xc6),'XbOou':_0x2ac730(0x144)};try{const _0x37eb2a=await _0x1620ee[_0x2ac730(0x181)]({'where':{'setting_id':0x1}});if(_0x37eb2a)return;await _0x1620ee['create']({'website_name':_0x25f096[_0x2ac730(0x19e)],'website_email':_0x2ac730(0xdf),'website_text':_0x25f096[_0x2ac730(0x1bc)],'website_color_primary':_0x25f096[_0x2ac730(0xe7)],'website_color_secondary':_0x25f096[_0x2ac730(0xe7)],'website_link':_0x25f096[_0x2ac730(0x176)],'ios_link':_0x25f096[_0x2ac730(0x161)],'android_link':_0x25f096[_0x2ac730(0x1a6)],'tell_a_friend_link':_0x25f096['RyMHA'],'baseUrl':'https://whoxachat.com/','TWILIO_ACCOUNT_SID':process[_0x2ac730(0x1bb)][_0x2ac730(0x1aa)],'TWILIO_AUTH_TOKEN':process[_0x2ac730(0x1bb)][_0x2ac730(0x10e)],'TWILIO_FROM_NUMBER':process[_0x2ac730(0x1bb)]['TWILIO_FROM_NUMBER']});}catch(_0x440137){console[_0x2ac730(0xca)](_0x25f096[_0x2ac730(0x1b5)],_0x440137);}}async function createApp(_0x5d6446={}){const _0x5b8933=a0_0x509611,_0x15e2f5={'ZErGv':function(_0x24cbfc,_0x3477a2){return _0x24cbfc(_0x3477a2);},'suWhI':function(_0x22e1ed,_0x1fb9b8,_0x1e8be1){return _0x22e1ed(_0x1fb9b8,_0x1e8be1);},'deJGB':function(_0x5a61aa,_0x37a1d9){return _0x5a61aa===_0x37a1d9;},'laLUp':_0x5b8933(0x166),'voIgC':_0x5b8933(0x196),'pxSoo':function(_0xd30509,_0x2fbac3){return _0xd30509(_0x2fbac3);},'MZLnV':function(_0x5a9106,_0x2b2d33){return _0x5a9106(_0x2b2d33);},'SCZBg':function(_0x5e294d,_0x555740,_0x867f4e){return _0x5e294d(_0x555740,_0x867f4e);},'PdDph':function(_0x28082d,_0x456522,_0x452214,_0x20a4fc,_0x1f3e0){return _0x28082d(_0x456522,_0x452214,_0x20a4fc,_0x1f3e0);},'HgLIQ':function(_0xa040ff,_0x460f68,_0x2e932b){return _0xa040ff(_0x460f68,_0x2e932b);}},_0x417d54=await _0x15e2f5[_0x5b8933(0x191)](setupExpress,{'routes':_0x5d6446['routes']}),_0x24ed95=import_http[_0x5b8933(0x12a)]['createServer'](_0x417d54);let _0x368e79;if(_0x5d6446[_0x5b8933(0x193)]&&_0x5d6446['models']?.[_0x5b8933(0xfb)]&&_0x5d6446['jwtSecret'])_0x368e79=_0x15e2f5['suWhI'](setupSocketIO,_0x24ed95,{'jwtSecret':_0x5d6446['jwtSecret'],'models':_0x5d6446['models']}),_0x15e2f5[_0x5b8933(0x136)](typeof _0x5d6446[_0x5b8933(0x1a8)],_0x15e2f5[_0x5b8933(0x128)])&&_0x5d6446['onSocketConnect'](_0x368e79);else throw new Error(_0x15e2f5[_0x5b8933(0xcf)]);return _0x5d6446[_0x5b8933(0x120)]?.[_0x5b8933(0x17c)]&&_0x5d6446[_0x5b8933(0x120)]['forEach'](({schedule:_0x3ba56d,job:_0x526195})=>{const _0x35bbb5=_0x5b8933;import_node_cron[_0x35bbb5(0x12a)][_0x35bbb5(0x129)](_0x3ba56d,_0x526195);}),await _0x5d6446[_0x5b8933(0x145)]['sync']({'alter':![]}),await _0x15e2f5['pxSoo'](checkAppFlowAndCreate,_0x5d6446[_0x5b8933(0x13a)][_0x5b8933(0xd2)]),await _0x15e2f5['MZLnV'](checkAdminAndCreate,_0x5d6446[_0x5b8933(0x13a)][_0x5b8933(0x18a)]),await _0x15e2f5[_0x5b8933(0xe9)](checkAppsettingAndCreate,_0x5d6446[_0x5b8933(0x13a)][_0x5b8933(0x1a1)],_0x5d6446[_0x5b8933(0x13a)]['Group_Setting']),await _0x15e2f5[_0x5b8933(0x191)](checkWebsettingAndCreate,_0x5d6446['models']['Website_Setting']),await _0x15e2f5[_0x5b8933(0xd7)](checkOneSignalsettingAndCreate,_0x5d6446['models'][_0x5b8933(0x146)]),await _0x15e2f5[_0x5b8933(0x1b1)](addDefaultEntries,_0x5d6446[_0x5b8933(0x13a)][_0x5b8933(0x101)],_0x5d6446[_0x5b8933(0x13a)][_0x5b8933(0x105)],_0x5d6446[_0x5b8933(0x145)],_0x5d6446[_0x5b8933(0xf0)]),await checkGroupsettingAndCreate(_0x5d6446[_0x5b8933(0x13a)][_0x5b8933(0x154)]),_0x5d6446[_0x5b8933(0x106)]?.[_0x5b8933(0x147)]&&_0x5d6446['language_functions']?.['addLanguageColumn']&&await _0x15e2f5[_0x5b8933(0x175)](processLanguages,_0x5d6446[_0x5b8933(0x106)][_0x5b8933(0x147)],_0x5d6446[_0x5b8933(0x106)][_0x5b8933(0x130)]),{'app':_0x417d54,'server':_0x24ed95,'io':_0x368e79};}0x0&&(module[a0_0x509611(0x1bd)]={'createApp':createApp});