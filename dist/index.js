'use strict';const a0_0x112084=a0_0x53ed;(function(_0x559c6f,_0x35ffaa){const _0x2721ff=a0_0x53ed,_0x27c248=_0x559c6f();while(!![]){try{const _0x41fce2=-parseInt(_0x2721ff(0x194))/0x1*(-parseInt(_0x2721ff(0x1b8))/0x2)+-parseInt(_0x2721ff(0x229))/0x3+parseInt(_0x2721ff(0x1d2))/0x4*(parseInt(_0x2721ff(0x1bf))/0x5)+-parseInt(_0x2721ff(0x15b))/0x6*(-parseInt(_0x2721ff(0x144))/0x7)+-parseInt(_0x2721ff(0x17a))/0x8*(-parseInt(_0x2721ff(0x1aa))/0x9)+-parseInt(_0x2721ff(0x155))/0xa*(-parseInt(_0x2721ff(0x1a2))/0xb)+-parseInt(_0x2721ff(0x18a))/0xc;if(_0x41fce2===_0x35ffaa)break;else _0x27c248['push'](_0x27c248['shift']());}catch(_0x55f861){_0x27c248['push'](_0x27c248['shift']());}}}(a0_0x488c,0x681aa));function a0_0x53ed(_0x4cf8da,_0x54df75){const _0x488cc9=a0_0x488c();return a0_0x53ed=function(_0x53ed66,_0x74fa6f){_0x53ed66=_0x53ed66-0x127;let _0x2405de=_0x488cc9[_0x53ed66];return _0x2405de;},a0_0x53ed(_0x4cf8da,_0x54df75);}var __create=Object[a0_0x112084(0x1c5)],__defProp=Object['defineProperty'],__getOwnPropDesc=Object[a0_0x112084(0x20c)],__getOwnPropNames=Object[a0_0x112084(0x15a)],__getProtoOf=Object[a0_0x112084(0x139)],__hasOwnProp=Object[a0_0x112084(0x1ba)][a0_0x112084(0x13d)],__export=(_0x46272a,_0xd218d6)=>{const _0x3cb67b=a0_0x112084,_0x418ee0={'GtzEd':function(_0x2b7ace,_0x5439bc,_0x2d3771,_0x151ea3){return _0x2b7ace(_0x5439bc,_0x2d3771,_0x151ea3);}};for(var _0x56c905 in _0xd218d6)_0x418ee0[_0x3cb67b(0x184)](__defProp,_0x46272a,_0x56c905,{'get':_0xd218d6[_0x56c905],'enumerable':!![]});},__copyProps=(_0x1f2822,_0x1eae01,_0x3b8a35,_0x519e5b)=>{const _0x787d62=a0_0x112084,_0x1b88cd={'vSJYO':_0x787d62(0x174),'Qfdjq':function(_0x394692,_0x462425){return _0x394692===_0x462425;},'CMbHi':_0x787d62(0x204),'ASFlE':function(_0x3cf074,_0x206e3b){return _0x3cf074!==_0x206e3b;},'iMZGu':function(_0x23c672,_0x556ef6,_0xe05d45,_0x249e7b){return _0x23c672(_0x556ef6,_0xe05d45,_0x249e7b);}};if(_0x1eae01&&typeof _0x1eae01===_0x1b88cd[_0x787d62(0x14f)]||_0x1b88cd[_0x787d62(0x154)](typeof _0x1eae01,_0x1b88cd[_0x787d62(0x161)])){for(let _0x270009 of __getOwnPropNames(_0x1eae01))if(!__hasOwnProp['call'](_0x1f2822,_0x270009)&&_0x1b88cd[_0x787d62(0x19b)](_0x270009,_0x3b8a35))_0x1b88cd['iMZGu'](__defProp,_0x1f2822,_0x270009,{'get':()=>_0x1eae01[_0x270009],'enumerable':!(_0x519e5b=__getOwnPropDesc(_0x1eae01,_0x270009))||_0x519e5b['enumerable']});}return _0x1f2822;},__toESM=(_0x183903,_0x957fe7,_0x3ecef6)=>(_0x3ecef6=_0x183903!=null?__create(__getProtoOf(_0x183903)):{},__copyProps(_0x957fe7||!_0x183903||!_0x183903['__esModule']?__defProp(_0x3ecef6,'default',{'value':_0x183903,'enumerable':!![]}):_0x3ecef6,_0x183903)),__toCommonJS=_0x2fcc5f=>__copyProps(__defProp({},'__esModule',{'value':!![]}),_0x2fcc5f),index_exports={};__export(index_exports,{'createApp':()=>createApp}),module['exports']=__toCommonJS(index_exports);var import_express=__toESM(require(a0_0x112084(0x209))),import_cors=__toESM(require(a0_0x112084(0x1b7))),import_body_parser=__toESM(require(a0_0x112084(0x189))),import_path2=__toESM(require(a0_0x112084(0x20a))),import_fs=__toESM(require('fs')),import_path=__toESM(require('path')),import_axios=__toESM(require('axios')),import_os=__toESM(require('os')),getmac=require(a0_0x112084(0x12c))[a0_0x112084(0x1bc)],TOKEN_PATH=import_path[a0_0x112084(0x1bc)][a0_0x112084(0x12b)](process[a0_0x112084(0x19d)](),a0_0x112084(0x153)),VERIFY_URL='http://62.72.36.245:1142/verify_new',VALIDATE_URL=a0_0x112084(0x1f4);function getMacAddress(){const _0x1196fc=a0_0x112084;try{const _0x34644a=getmac();return _0x34644a;}catch(_0x483519){return console[_0x1196fc(0x1e3)](_0x1196fc(0x173),_0x483519),null;}}function getServerIP(){const _0x1025f0=a0_0x112084,_0x1791e8={'SmcOw':function(_0x1d207b,_0x5a99d9){return _0x1d207b===_0x5a99d9;},'iwpEI':'IPv4','pdXUA':_0x1025f0(0x191)},_0x2dc92a=import_os[_0x1025f0(0x1bc)][_0x1025f0(0x15f)]();for(const _0x311134 in _0x2dc92a){const _0x473d0f=_0x2dc92a[_0x311134];if(_0x473d0f)for(const _0x21c8f6 of _0x473d0f){if(_0x1791e8[_0x1025f0(0x156)](_0x21c8f6[_0x1025f0(0x21e)],_0x1791e8['iwpEI'])&&!_0x21c8f6['internal'])return _0x21c8f6[_0x1025f0(0x1c9)];}}return _0x1791e8[_0x1025f0(0x152)];}async function verifyToken(){const _0x595916=a0_0x112084,_0x1229de={'NGLgE':_0x595916(0x20f),'BjPHW':function(_0x586e13){return _0x586e13();}};if(!import_fs[_0x595916(0x1bc)]['existsSync'](TOKEN_PATH))return![];try{const _0x4361b9=await import_fs[_0x595916(0x1bc)][_0x595916(0x132)]['readFile'](TOKEN_PATH,_0x1229de[_0x595916(0x183)]),_0x1accff=await import_axios[_0x595916(0x1bc)]['post'](VERIFY_URL,{'server_ip':getServerIP(),'mac_address':_0x1229de[_0x595916(0x175)](getMacAddress),'token':_0x4361b9});if(!_0x1accff[_0x595916(0x17f)]['success'])return![];return _0x1accff[_0x595916(0x17f)][_0x595916(0x1b3)];}catch(_0x563a5c){return console[_0x595916(0x1e3)](_0x595916(0x143),_0x563a5c),![];}}async function CheckTokenverifyTokenRecreation(){const _0x2e42b4=a0_0x112084,_0x50df9b={'MpccU':function(_0x127566,_0x55e54d){return _0x127566/_0x55e54d;},'hYoWy':function(_0x24b2ca,_0x5c4322){return _0x24b2ca-_0x5c4322;},'qkZcg':function(_0x9898d8,_0x568a44){return _0x9898d8*_0x568a44;},'KrTXC':function(_0x674a8e,_0x17c95b){return _0x674a8e<_0x17c95b;},'IgoFQ':_0x2e42b4(0x20f),'kFTNo':function(_0x5185fb){return _0x5185fb();}};try{if(!import_fs[_0x2e42b4(0x1bc)][_0x2e42b4(0x1ef)](TOKEN_PATH))return![];const _0x1f3d47=await import_fs[_0x2e42b4(0x1bc)][_0x2e42b4(0x132)]['stat'](TOKEN_PATH),_0x344022=_0x1f3d47[_0x2e42b4(0x14e)],_0x13144f=new Date(),_0x425082=_0x50df9b[_0x2e42b4(0x1f0)](_0x50df9b[_0x2e42b4(0x135)](_0x13144f[_0x2e42b4(0x1b5)](),_0x344022[_0x2e42b4(0x1b5)]()),_0x50df9b[_0x2e42b4(0x214)](0x3e8*0x3c,0x3c));if(_0x50df9b['KrTXC'](_0x425082,0x2))return!![];const _0x33d3c1=await import_fs[_0x2e42b4(0x1bc)][_0x2e42b4(0x132)][_0x2e42b4(0x1d6)](TOKEN_PATH,_0x50df9b[_0x2e42b4(0x1bd)]),_0x12dffd=await import_axios[_0x2e42b4(0x1bc)][_0x2e42b4(0x1a1)](VERIFY_URL,{'server_ip':getServerIP(),'mac_address':_0x50df9b[_0x2e42b4(0x18b)](getMacAddress),'token':_0x33d3c1});if(!_0x12dffd[_0x2e42b4(0x17f)][_0x2e42b4(0x1b3)])return await import_fs[_0x2e42b4(0x1bc)][_0x2e42b4(0x132)][_0x2e42b4(0x218)](TOKEN_PATH),![];return await import_fs[_0x2e42b4(0x1bc)]['promises'][_0x2e42b4(0x218)](TOKEN_PATH),await import_fs['default']['promises'][_0x2e42b4(0x1e0)](TOKEN_PATH,_0x33d3c1,_0x50df9b[_0x2e42b4(0x1bd)]),!![];}catch(_0x4bf1f0){return console[_0x2e42b4(0x1e3)](_0x2e42b4(0x143),_0x4bf1f0),![];}}async function validatePurchase(_0x4b9f54){const _0x5130ad=a0_0x112084,_0x355026={'WMmLD':'Username\x20is\x20required.','RMJzV':_0x5130ad(0x176),'xWcrW':_0x5130ad(0x140),'DBzJI':function(_0x76c648){return _0x76c648();},'sGcYf':_0x5130ad(0x1d9),'IOmln':_0x5130ad(0x1e3),'ZXRcW':_0x5130ad(0x1ac)},{purchase_code:_0x1ec0c9,username:_0x1cc919}=_0x4b9f54;if(!_0x1ec0c9)return{'success':![],'message':'Purchase\x20code\x20is\x20required.'};if(!_0x1cc919)return{'success':![],'message':_0x355026[_0x5130ad(0x1a6)]};try{const _0x4288c6=await import_axios[_0x5130ad(0x1bc)][_0x5130ad(0x1a1)](VALIDATE_URL,{'purchase_code':_0x1ec0c9,'username':_0x1cc919},{'headers':{'Content-Type':_0x5130ad(0x176),'Accept':_0x355026[_0x5130ad(0x177)],'User-Agent':_0x355026['xWcrW'],'X-MAC-Address':_0x355026[_0x5130ad(0x16d)](getMacAddress),'X-Device-IP':_0x355026['DBzJI'](getServerIP)}}),_0x52ad1e=_0x4288c6[_0x5130ad(0x17f)];if([_0x355026[_0x5130ad(0x1ed)],_0x355026[_0x5130ad(0x1fe)],'invalid'][_0x5130ad(0x12a)](_0x52ad1e[_0x5130ad(0x1d5)]))return{'success':![],'message':_0x52ad1e[_0x5130ad(0x13b)]};if(_0x52ad1e[_0x5130ad(0x1ff)]){const _0x2d3697=import_path[_0x5130ad(0x1bc)]['dirname'](TOKEN_PATH);!import_fs['default']['existsSync'](_0x2d3697)&&import_fs['default'][_0x5130ad(0x170)](_0x2d3697,{'recursive':!![]}),import_fs[_0x5130ad(0x1bc)]['writeFileSync'](TOKEN_PATH,_0x52ad1e[_0x5130ad(0x1ff)]);}return{'success':!![],'token':_0x52ad1e[_0x5130ad(0x1ff)]};}catch(_0x53acf2){return console[_0x5130ad(0x1e3)](_0x5130ad(0x188),_0x53acf2),{'success':![],'message':_0x355026[_0x5130ad(0x149)]};}}var import_multer=__toESM(require('multer')),import_mime_types=__toESM(require('mime-types')),import_fs2=__toESM(require('fs')),storage=import_multer[a0_0x112084(0x1bc)][a0_0x112084(0x1af)]({'destination':(_0x333f87,_0x338afe,_0xe7e5ca)=>{const _0x34b298=a0_0x112084,_0x274b82={'fyHOi':_0x34b298(0x219),'uuxYu':_0x34b298(0x220),'zpIps':'./uploads/thumbnail','bPWiT':_0x34b298(0x196),'HJvsy':_0x34b298(0x202),'CSpeL':_0x34b298(0x1b0),'dcPpM':_0x34b298(0x1a8),'kPguJ':_0x34b298(0x16a),'CAoCZ':'wallpaper','nZand':_0x34b298(0x150),'CYWiK':_0x34b298(0x166),'kgWFu':_0x34b298(0x1fd),'rmQUf':_0x34b298(0x157),'mqUOM':_0x34b298(0x142),'tuWPL':'avtar','bIAWp':function(_0x232e5a,_0x42b5b0,_0x2cf070){return _0x232e5a(_0x42b5b0,_0x2cf070);}};let _0x397e32=_0x274b82['fyHOi'];const _0x22680c=_0x333f87[_0x34b298(0x206)]?.[_0x34b298(0x171)];switch(_0x22680c){case _0x34b298(0x220):_0x397e32='./uploads/image';break;case'video':const _0x1da8cd=import_mime_types[_0x34b298(0x1bc)][_0x34b298(0x20b)](_0x338afe[_0x34b298(0x1d7)]);_0x1da8cd&&_0x1da8cd[_0x34b298(0x12a)](_0x274b82['uuxYu'])?_0x397e32=_0x274b82[_0x34b298(0x14d)]:_0x397e32=_0x274b82[_0x34b298(0x21b)];break;case _0x274b82[_0x34b298(0x17c)]:_0x397e32='./uploads/document';break;case _0x34b298(0x213):_0x397e32=_0x274b82[_0x34b298(0x15d)];break;case _0x274b82['dcPpM']:_0x397e32=_0x274b82[_0x34b298(0x222)];break;case _0x274b82[_0x34b298(0x1cc)]:_0x397e32=_0x274b82['nZand'];break;default:if(_0x333f87[_0x34b298(0x13f)][_0x34b298(0x12a)](_0x274b82[_0x34b298(0x1c1)]))_0x397e32=_0x274b82[_0x34b298(0x182)];else{if(_0x333f87[_0x34b298(0x13f)][_0x34b298(0x12a)](_0x274b82[_0x34b298(0x178)]))_0x397e32=_0x274b82[_0x34b298(0x16f)];else _0x333f87['url'][_0x34b298(0x12a)](_0x274b82[_0x34b298(0x160)])&&(_0x397e32=_0x34b298(0x18e));}break;}!import_fs2['default'][_0x34b298(0x1ef)](_0x397e32)&&import_fs2[_0x34b298(0x1bc)]['mkdirSync'](_0x397e32,{'recursive':!![]}),_0x274b82['bIAWp'](_0xe7e5ca,null,_0x397e32);},'filename':(_0x12dc18,_0x4729ce,_0x8ba201)=>{const _0x40c6a2=a0_0x112084,_0x32d793=Date[_0x40c6a2(0x1a4)]()+'-'+_0x4729ce[_0x40c6a2(0x1d7)][_0x40c6a2(0x1fa)]('#')['join']('-')[_0x40c6a2(0x1fa)](',')['join']('-')[_0x40c6a2(0x1fa)](':')[_0x40c6a2(0x12b)]('-')['split']('\x20')[_0x40c6a2(0x12b)]('-');_0x8ba201(null,_0x32d793);}}),upload=(0x0,import_multer[a0_0x112084(0x1bc)])({'storage':storage}),upload_default=upload,import_jsonwebtoken=__toESM(require('jsonwebtoken'));function authMiddleware(_0x29697c,_0x278ee4,_0x498b48){const _0x2433a6=a0_0x112084,_0x405080={'fVbaP':_0x2433a6(0x181),'nwsgh':'Bearer\x20','ggJTr':_0x2433a6(0x1b2),'aGUwq':_0x2433a6(0x20d),'FfXCj':'Invalid\x20token!','xhYPF':function(_0x20b4a6){return _0x20b4a6();}},_0x1e58d4=_0x29697c[_0x2433a6(0x201)][_0x2433a6(0x1e2)];if(!_0x1e58d4)return _0x278ee4[_0x2433a6(0x1d5)](0x193)[_0x2433a6(0x1bb)]({'error':_0x405080[_0x2433a6(0x151)]});if(!_0x1e58d4[_0x2433a6(0x1cb)](_0x405080[_0x2433a6(0x15e)]))return _0x278ee4['status'](0x193)[_0x2433a6(0x1bb)]({'error':_0x405080['ggJTr']});try{const _0xb634e6=_0x1e58d4[_0x2433a6(0x1fa)]('\x20')[0x1],_0xb4906e=process['env'][_0x2433a6(0x22a)];if(!_0xb4906e)throw new Error(_0x2433a6(0x1ea));_0x29697c[_0x2433a6(0x199)]=import_jsonwebtoken[_0x2433a6(0x1bc)][_0x2433a6(0x21d)](_0xb634e6,_0xb4906e);}catch(_0x588b0b){return console['error'](_0x405080['aGUwq'],_0x588b0b),_0x278ee4['status'](0x193)[_0x2433a6(0x1bb)]({'message':_0x405080[_0x2433a6(0x195)],'success':![]});}_0x405080[_0x2433a6(0x1e1)](_0x498b48);}var validatePurchaseCode=async(_0x914d3d,_0x34143b,_0xeea43c)=>{const _0x1277f6=a0_0x112084,_0x2e7f49={'tQTDy':_0x1277f6(0x15c),'BxVVF':_0x1277f6(0x223),'DbxSl':function(_0x370941){return _0x370941();}},_0x52429f=await CheckTokenverifyTokenRecreation();if(!_0x52429f)return _0x34143b['sendFile'](import_path2[_0x1277f6(0x1bc)]['join'](process[_0x1277f6(0x19d)](),_0x2e7f49[_0x1277f6(0x19c)],_0x2e7f49['BxVVF']));_0x2e7f49[_0x1277f6(0x179)](_0xeea43c);},fileUploadMiddleware=upload_default[a0_0x112084(0x17b)]([{'name':a0_0x112084(0x1ee),'maxCount':0xa},{'name':a0_0x112084(0x137),'maxCount':0x1}]);function fileUploadWrapper(_0x223f31,_0x1c6757,_0x849a25){const _0xe30bed=a0_0x112084,_0x31f1d8={'iUFLx':function(_0x466433,_0x137e04){return _0x466433(_0x137e04);},'rCiMz':_0xe30bed(0x1ee),'nfeld':function(_0x41373b){return _0x41373b();},'jlJRI':function(_0x58885d,_0x34cd26,_0x48b880,_0xeafd08){return _0x58885d(_0x34cd26,_0x48b880,_0xeafd08);}};_0x31f1d8['jlJRI'](fileUploadMiddleware,_0x223f31,_0x1c6757,function(_0x2e8809){const _0x382b1e=_0xe30bed;if(_0x2e8809)return _0x31f1d8[_0x382b1e(0x1a0)](_0x849a25,_0x2e8809);_0x223f31[_0x382b1e(0x137)]=_0x223f31?.[_0x382b1e(0x1ee)]?.[_0x382b1e(0x137)]||[],_0x223f31[_0x382b1e(0x1ee)]=_0x223f31?.[_0x382b1e(0x1ee)]?.[_0x31f1d8['rCiMz']]||[],_0x223f31[_0x382b1e(0x137)]['forEach']((_0x3d8735,_0x3c73c1)=>{}),_0x223f31[_0x382b1e(0x1ee)]['forEach']((_0x3ae528,_0x1772ef)=>{}),_0x31f1d8[_0x382b1e(0x1db)](_0x849a25);});}function a0_0x488c(){const _0x5a9eda=['CuFqe','nfeld','TWILIO_AUTH_TOKEN','Group_Setting','okSAY','Invalid\x20token','writeFile','xhYPF','authorization','error','hNrYP','default_language.json\x20not\x20found\x20in\x20host\x20project\x20root:','web','describeTable','htWSh','ios_link','JWT_SECRET_KEY\x20is\x20not\x20defined\x20in\x20environment\x20variables','warn','tgtWZ','sGcYf','files','existsSync','MpccU','tJvGj','OoVeh','wQydP','http://62.72.36.245:1142/validate','routes','qUMUS','sequelize','Aakbm','QMLfW','split','bujsS','index.html','./uploads/profile','IOmln','token','static','headers','document','product_type','function','language_functions','body','/uploads','App_Flow','express','path','lookup','getOwnPropertyDescriptor','JWT\x20verification\x20error:','Admin','utf-8','bdyuG','exports','SGfnF','audio','qkZcg','JaQmV','Server','One_signal_setting','unlink','./uploads/others','Error\x20processing\x20languages:','bPWiT','node-cron','verify','family','Tzttf','image','getQueryInterface','kPguJ','validate.html','Language_setting','default_language.json','WhoxaText','urlencoded','OnesignalAPIKey','1895154bsrUNm','JWT_SECRET_KEY','Error\x20in\x20checkAppsettingAndCreate:','env','query','includes','join','getmac','UserSocket','FLvOV','onConnect','use','connection','promises','get','English','hYoWy','user_id','darkLogo','ltr','getPrototypeOf','uploads/avtars/Admin.png','message','/socket','hasOwnProperty','Socket\x20IO\x20required\x20Params\x20not\x20found','url','Your\x20User\x20Agent','eEvZe','./uploads/status','Error\x20during\x20token\x20verification:','7dNBSGv','wMrVv','http','ZwOyR','One\x20signal\x20appid','ZXRcW','Website_Setting','uluRJ','frontend','zpIps','birthtime','vSJYO','./uploads/wallpaper','fVbaP','pdXUA','node_modules/credentials_keys/validatedToken.txt','Qfdjq','1017560qXgaZz','SmcOw','add-status','NWBJY','MuWgv','getOwnPropertyNames','2477418Jjalsb','public','CSpeL','nwsgh','networkInterfaces','tuWPL','CMbHi','parse','aQnkR','auth_routes','ninfh','user-details','length','RykTH','Error\x20adding\x20default\x20entries:','./uploads/gif','App_Setting','egDhW','DBzJI','no_auth_route','mqUOM','mkdirSync','message_type','socket.io','Error\x20fetching\x20MAC\x20address:','object','BjPHW','application/json','RMJzV','rmQUf','DbxSl','2216680BqTVBK','fields','HJvsy','Error\x20in\x20checkWebsettingAndCreate:','jsonwebtoken','data','tell_a_friend_link','No\x20credentials\x20sent!','kgWFu','NGLgE','GtzEd','https://whoxachat.com/','gzFZr','findOne','Validation\x20error:','body-parser','15478992vdGuOL','kFTNo','STRING','UgzXz','./uploads/avtars','/api','findAll','IP\x20address\x20not\x20found','demo@whoxa.com','cronJobs','43UKzCqI','FfXCj','./uploads/video','Error\x20in\x20checkAppFlowAndCreate:','addColumn','authData','addLanguageColumn','ASFlE','tQTDy','cwd','Language_status','whoxa\x20text','iUFLx','post','88amTuvN','sync','now','uploads','WMmLD','Whoxa','gif','kSjCu','18AQTRhc','OPOFM','Validation\x20failed!','BfvAH','PnSgd','diskStorage','./uploads/audio','WTckn','Invalid\x20token\x20format!','success','WtAYw','getTime','CDSkt','cors','5866ncMkEn','VXTXl','prototype','json','default','IgoFQ','ajGoA','551005YQVRcQ','onSocketConnect','CYWiK','models','Sequelize','#ffff','create','jwtSecret','handshake','FZxss','address','Error\x20in\x20checkGroupsettingAndCreate:','startsWith','CAoCZ','TWILIO_ACCOUNT_SID','TWILIO_FROM_NUMBER','Language_settings','ZyUFf','sendFile','16ZKtTjn','Missing\x20token','mKjef','status','readFile','originalname','fetchLanguages','used'];a0_0x488c=function(){return _0x5a9eda;};return a0_0x488c();}async function setupExpress(_0x2ac503={}){const _0x54ace1=a0_0x112084,_0x4a52e4={'ajGoA':function(_0x1d1750,_0x1de09f){return _0x1d1750===_0x1de09f;},'mKjef':'/api/validate','MuWgv':function(_0x5d83c0,_0x4b668e,_0x4d696a,_0x3aa22d){return _0x5d83c0(_0x4b668e,_0x4d696a,_0x3aa22d);},'CDSkt':function(_0x4883e9,_0x2d0c4c){return _0x4883e9(_0x2d0c4c);},'JaQmV':_0x54ace1(0x1fc),'PnSgd':function(_0x416530){return _0x416530();},'RykTH':_0x54ace1(0x14c),'jXspc':'admin','ninfh':_0x54ace1(0x1a5),'hNrYP':'/public','SGfnF':_0x54ace1(0x15c),'wMrVv':_0x54ace1(0x1e6),'WTckn':'/api'},_0x2e168f=(0x0,import_express['default'])();_0x2e168f[_0x54ace1(0x130)]((0x0,import_cors[_0x54ace1(0x1bc)])({'origin':'*'})),_0x2e168f['use'](import_body_parser[_0x54ace1(0x1bc)][_0x54ace1(0x1bb)]()),_0x2e168f[_0x54ace1(0x130)](import_body_parser[_0x54ace1(0x1bc)][_0x54ace1(0x227)]({'extended':!![]})),await _0x4a52e4[_0x54ace1(0x1ae)](verifyToken),_0x2e168f[_0x54ace1(0x130)](async(_0xfb1738,_0x2bdb85,_0x1ba967)=>{const _0x1869cc=_0x54ace1;if(_0x4a52e4[_0x1869cc(0x1be)](_0xfb1738['path'],_0x4a52e4[_0x1869cc(0x1d4)]))return _0x1ba967();await _0x4a52e4[_0x1869cc(0x159)](validatePurchaseCode,_0xfb1738,_0x2bdb85,_0x1ba967);}),_0x2e168f[_0x54ace1(0x1a1)](_0x4a52e4[_0x54ace1(0x1d4)],async(_0x209af0,_0x454d00)=>{const _0x5d728c=_0x54ace1,_0x525857=await _0x4a52e4[_0x5d728c(0x1b6)](validatePurchase,_0x209af0['body']);if(!_0x525857[_0x5d728c(0x1b3)])return _0x454d00[_0x5d728c(0x1d5)](0x190)['json']({'error':_0x525857['message']});_0x454d00[_0x5d728c(0x1bb)]({'message':'Validation\x20successful!','token':_0x525857[_0x5d728c(0x1ff)]});});const _0x22e87c=import_path2[_0x54ace1(0x1bc)]['join'](process[_0x54ace1(0x19d)](),_0x4a52e4[_0x54ace1(0x168)]),_0x3f12a7=import_path2['default'][_0x54ace1(0x12b)](process[_0x54ace1(0x19d)](),_0x4a52e4['jXspc']);return _0x2e168f[_0x54ace1(0x130)](_0x54ace1(0x207),import_express[_0x54ace1(0x1bc)]['static'](_0x4a52e4[_0x54ace1(0x165)])),_0x2e168f[_0x54ace1(0x130)](_0x4a52e4[_0x54ace1(0x1e4)],import_express[_0x54ace1(0x1bc)][_0x54ace1(0x200)](_0x4a52e4[_0x54ace1(0x212)])),_0x2e168f[_0x54ace1(0x130)](import_express[_0x54ace1(0x1bc)][_0x54ace1(0x200)](_0x22e87c)),_0x4a52e4[_0x54ace1(0x1be)](_0x2ac503[_0x54ace1(0x203)],_0x54ace1(0x1e6))&&_0x2e168f['use'](import_express[_0x54ace1(0x1bc)]['static'](_0x3f12a7)),_0x2e168f[_0x54ace1(0x133)](/^\/admin(\/.*)?$/,(_0x31492e,_0x397c7f)=>_0x397c7f[_0x54ace1(0x1d1)](import_path2[_0x54ace1(0x1bc)]['join'](_0x3f12a7,_0x54ace1(0x1fc)))),_0x2ac503['product_type']===_0x4a52e4['wMrVv']?_0x2e168f[_0x54ace1(0x133)]('/',(_0x1c2d29,_0x22c312)=>_0x22c312['sendFile'](import_path2[_0x54ace1(0x1bc)]['join'](_0x22e87c,_0x54ace1(0x1fc)))):_0x2e168f[_0x54ace1(0x133)]('/',(_0x2e4c35,_0x4a6a27)=>_0x4a6a27[_0x54ace1(0x1d1)](import_path2[_0x54ace1(0x1bc)]['join'](_0x3f12a7,_0x54ace1(0x1fc)))),_0x2e168f[_0x54ace1(0x130)](fileUploadWrapper),_0x2e168f['use'](_0x4a52e4[_0x54ace1(0x1b1)],_0x2ac503['routes']?.[_0x54ace1(0x16e)]),_0x2e168f['use'](_0x4a52e4['WTckn'],authMiddleware,_0x2ac503[_0x54ace1(0x1f5)]?.[_0x54ace1(0x164)]),_0x2e168f[_0x54ace1(0x130)](_0x54ace1(0x18f),authMiddleware,_0x2ac503['routes']?.['admin_routes']),_0x4a52e4['ajGoA'](_0x2ac503[_0x54ace1(0x203)],_0x4a52e4[_0x54ace1(0x145)])?(_0x2e168f['get']('/',(_0x4fb7cd,_0x420876)=>_0x420876[_0x54ace1(0x1d1)](import_path2[_0x54ace1(0x1bc)][_0x54ace1(0x12b)](_0x22e87c,_0x54ace1(0x1fc)))),_0x2e168f[_0x54ace1(0x133)](/.*/,(_0x34da16,_0x17a207)=>{const _0x4b8591=_0x54ace1;_0x17a207[_0x4b8591(0x1d1)](import_path2[_0x4b8591(0x1bc)]['join'](_0x22e87c,_0x4a52e4[_0x4b8591(0x215)]));})):_0x2e168f['get'](/.*/,(_0x156538,_0x430fec)=>{const _0x1fd1ee=_0x54ace1;_0x430fec[_0x1fd1ee(0x1d1)](import_path2[_0x1fd1ee(0x1bc)][_0x1fd1ee(0x12b)](_0x3f12a7,_0x4a52e4['JaQmV']));}),_0x2e168f;}var import_socket=require(a0_0x112084(0x172)),import_jsonwebtoken2=__toESM(require(a0_0x112084(0x17e)));function setupSocketIO(_0x58defe,_0x50c59e){const _0x1def57=a0_0x112084,_0xcbcaa6={'kcaEd':function(_0x23928e,_0x341124){return _0x23928e(_0x341124);},'kSjCu':_0x1def57(0x1d3),'ZyUFf':function(_0x318917){return _0x318917();},'WtAYw':_0x1def57(0x131)},_0x538a66=new import_socket[(_0x1def57(0x216))](_0x58defe,{'cors':{'origin':'*'},'path':_0x1def57(0x13c)});return _0x538a66[_0x1def57(0x130)](async(_0x4f3d3c,_0x5f4def)=>{const _0x2dea26=_0x1def57,_0xd14e4=_0x4f3d3c[_0x2dea26(0x1c7)][_0x2dea26(0x129)][_0x2dea26(0x1ff)];if(!_0xd14e4)return _0xcbcaa6['kcaEd'](_0x5f4def,new Error(_0xcbcaa6[_0x2dea26(0x1a9)]));try{const _0x1b578d=import_jsonwebtoken2[_0x2dea26(0x1bc)][_0x2dea26(0x21d)](_0xd14e4,_0x50c59e[_0x2dea26(0x1c6)]),_0x5ac594=_0x1b578d['user_id'];_0x4f3d3c[_0x2dea26(0x1c7)][_0x2dea26(0x129)][_0x2dea26(0x136)]=_0x5ac594,await _0x50c59e[_0x2dea26(0x1c2)][_0x2dea26(0x12d)][_0x2dea26(0x1c5)]({'user_id':_0x5ac594,'socketId':_0x4f3d3c['id']}),_0xcbcaa6[_0x2dea26(0x1d0)](_0x5f4def);}catch(_0x1a90a9){console['error']('❌\x20Socket\x20auth\x20error:',_0x1a90a9),_0x5f4def(new Error(_0x2dea26(0x1df)));}}),_0x50c59e[_0x1def57(0x12f)]&&_0x538a66['on'](_0xcbcaa6[_0x1def57(0x1b4)],_0x1679d5=>_0x50c59e['onConnect'](_0x1679d5,_0x538a66)),_0x538a66;}var import_http=__toESM(require(a0_0x112084(0x146))),import_node_cron=__toESM(require(a0_0x112084(0x21c)));async function checkAdminAndCreate(_0x13b3cc){const _0x4d2f18=a0_0x112084,_0xa5c30b={'FLvOV':_0x4d2f18(0x192),'LyRxI':_0x4d2f18(0x20e),'OoVeh':'Admin@123','ZwOyR':'Error\x20in\x20checkAdminAndCreate:'};try{const _0x22d5bc=await _0x13b3cc[_0x4d2f18(0x187)]({'where':{'admin_id':0x1}});if(_0x22d5bc)return;await _0x13b3cc[_0x4d2f18(0x1c5)]({'user_id':0x1,'admin_email':_0xa5c30b[_0x4d2f18(0x12e)],'admin_name':_0xa5c30b['LyRxI'],'admin_password':_0xa5c30b[_0x4d2f18(0x1f2)],'profile_pic':_0x4d2f18(0x13a)});}catch(_0x39b096){console[_0x4d2f18(0x1e3)](_0xa5c30b[_0x4d2f18(0x147)],_0x39b096);}}async function checkAppFlowAndCreate(_0x496935){const _0x4bafe8=a0_0x112084,_0x1cb3ce={'phbBp':_0x4bafe8(0x197)};try{const _0x3f48a4=await _0x496935[_0x4bafe8(0x187)]({'where':{'setting_id':0x1}});!_0x3f48a4&&await _0x496935['create']();}catch(_0xb7f20e){console['error'](_0x1cb3ce['phbBp'],_0xb7f20e);}}async function checkAppsettingAndCreate(_0x2b2f15,_0x533e09){const _0x1606dc=a0_0x112084,_0x481f3b={'tinhc':function(_0x121266,_0x261853){return _0x121266===_0x261853;},'bdyuG':_0x1606dc(0x1a7),'qUMUS':_0x1606dc(0x226),'tgtWZ':_0x1606dc(0x1c4),'gzFZr':'https://whoxachat.com/','uluRJ':_0x1606dc(0x127)};try{const _0x29c441=await _0x2b2f15['findOne']({'where':{'setting_id':0x1}}),_0x20059f=await _0x533e09[_0x1606dc(0x190)]();_0x481f3b['tinhc'](_0x20059f['length'],0x0)&&await _0x533e09[_0x1606dc(0x1c5)]({'max_members':0xa});if(_0x29c441)return;await _0x2b2f15[_0x1606dc(0x1c5)]({'app_name':_0x481f3b[_0x1606dc(0x210)],'app_email':_0x1606dc(0x192),'app_text':_0x481f3b[_0x1606dc(0x1f6)],'app_color_primary':_0x481f3b[_0x1606dc(0x1ec)],'app_color_secondary':_0x481f3b[_0x1606dc(0x1ec)],'app_link':_0x1606dc(0x185),'ios_link':_0x481f3b[_0x1606dc(0x186)],'android_link':_0x481f3b[_0x1606dc(0x186)],'tell_a_friend_link':_0x481f3b[_0x1606dc(0x186)],'baseUrl':_0x481f3b['gzFZr'],'TWILIO_ACCOUNT_SID':process[_0x1606dc(0x128)][_0x1606dc(0x1cd)],'TWILIO_AUTH_TOKEN':process['env'][_0x1606dc(0x1dc)],'TWILIO_FROM_NUMBER':process[_0x1606dc(0x128)][_0x1606dc(0x1ce)],'JWT_SECRET_KEY':'JWT_SECRET_KEY','app_logo':'uploads/others/appLogo'});}catch(_0x45e93d){console[_0x1606dc(0x1e3)](_0x481f3b[_0x1606dc(0x14b)],_0x45e93d);}}var checkGroupsettingAndCreate=async _0x355b0e=>{const _0x507d3f=a0_0x112084,_0x54cf96={'VXTXl':_0x507d3f(0x1ca)};try{const _0x49d058=await _0x355b0e[_0x507d3f(0x187)]({'where':{'setting_id':0x1}});if(_0x49d058)return;else await _0x355b0e[_0x507d3f(0x1c5)]({'max_members':0xa});}catch(_0x123787){console[_0x507d3f(0x1e3)](_0x54cf96[_0x507d3f(0x1b9)],_0x123787);}},import_fs3=__toESM(require('fs')),import_path3=__toESM(require(a0_0x112084(0x20a))),addDefaultEntries=async(_0x3fb34c,_0x3b2ce8,_0x303be1,_0x29046b)=>{const _0x30fcff=a0_0x112084,_0x1676bc={'BfvAH':_0x30fcff(0x134),'EkYAX':_0x30fcff(0x138),'wQydP':_0x30fcff(0x1cf),'Aakbm':_0x30fcff(0x225),'oSIQh':'utf-8','tJvGj':_0x30fcff(0x169)};try{const _0x33be62=await _0x3fb34c[_0x30fcff(0x187)]({'where':{'language':'English'}});!_0x33be62&&await _0x3fb34c[_0x30fcff(0x1c5)]({'language':_0x1676bc[_0x30fcff(0x1ad)],'country':'US','language_alignment':_0x1676bc['EkYAX'],'status':0x1,'default_status':0x1});const _0x77148c=_0x303be1[_0x30fcff(0x221)](),_0x4be771=await _0x77148c[_0x30fcff(0x1e7)](_0x1676bc[_0x30fcff(0x1f3)]);!_0x4be771[_0x30fcff(0x134)]&&await _0x77148c[_0x30fcff(0x198)](_0x1676bc[_0x30fcff(0x1f3)],_0x1676bc[_0x30fcff(0x1ad)],{'type':_0x29046b[_0x30fcff(0x18c)],'allowNull':!![]});const _0x45b493=import_path3[_0x30fcff(0x1bc)]['join'](process[_0x30fcff(0x19d)](),_0x1676bc[_0x30fcff(0x1f8)]);if(!import_fs3[_0x30fcff(0x1bc)][_0x30fcff(0x1ef)](_0x45b493)){console[_0x30fcff(0x1eb)](_0x30fcff(0x1e5),_0x45b493);return;}const _0x5dc33d=JSON[_0x30fcff(0x162)](import_fs3[_0x30fcff(0x1bc)]['readFileSync'](_0x45b493,_0x1676bc['oSIQh']));for(const _0x44dced of _0x5dc33d){const {key:_0x435c39}=_0x44dced,_0x145029=await _0x3b2ce8[_0x30fcff(0x187)]({'where':{'key':_0x435c39}});!_0x145029&&await _0x3b2ce8['create']({'key':_0x435c39,'English':_0x435c39});}}catch(_0x3a1414){console[_0x30fcff(0x1e3)](_0x1676bc[_0x30fcff(0x1f1)],_0x3a1414);}};async function processLanguages(_0x64c2a2,_0x4ab181){const _0x4b40d5=a0_0x112084,_0x98ae41={'eEvZe':function(_0x9277d6){return _0x9277d6();},'krgBi':function(_0x56d3b3,_0x524064){return _0x56d3b3<_0x524064;},'egDhW':function(_0x5b6efe,_0x55e6fd){return _0x5b6efe(_0x55e6fd);}};try{const _0x373704=await _0x98ae41[_0x4b40d5(0x141)](_0x64c2a2);if(_0x373704&&_0x373704[_0x4b40d5(0x167)]>0x0)for(let _0x536355=0x0;_0x98ae41['krgBi'](_0x536355,_0x373704[_0x4b40d5(0x167)]);_0x536355++){const _0x2cdbfc=_0x373704[_0x536355];await _0x98ae41[_0x4b40d5(0x16c)](_0x4ab181,_0x2cdbfc);}else{}}catch(_0x12d332){console['error'](_0x4b40d5(0x21a),_0x12d332);}}async function checkOneSignalsettingAndCreate(_0x419fbf){const _0x159d42=a0_0x112084,_0x5c30f5={'OPOFM':_0x159d42(0x228),'bujsS':_0x159d42(0x148),'CuFqe':'Error\x20in\x20checkOneSignalsettingAndCreate:'};try{const _0x519a5c=await _0x419fbf[_0x159d42(0x187)]({'where':{'setting_id':0x1}});if(_0x519a5c)return;await _0x419fbf[_0x159d42(0x1c5)]({'ONESIGNAL_API_KEY':_0x5c30f5[_0x159d42(0x1ab)],'ONESIGNAL_APPID':_0x5c30f5[_0x159d42(0x1fb)]});}catch(_0x39a7e7){console[_0x159d42(0x1e3)](_0x5c30f5[_0x159d42(0x1da)],_0x39a7e7);}}async function checkWebsettingAndCreate(_0x446cf3){const _0x3a94df=a0_0x112084,_0x1e6234={'uKOxk':'Whoxa\x20Chat','NllAs':_0x3a94df(0x1c4),'jfpZG':_0x3a94df(0x1e9),'UgzXz':'android_link','MqSgA':_0x3a94df(0x180),'aQnkR':_0x3a94df(0x185),'Tzttf':_0x3a94df(0x17d)};try{const _0x5ccff0=await _0x446cf3[_0x3a94df(0x187)]({'where':{'setting_id':0x1}});if(_0x5ccff0)return;await _0x446cf3[_0x3a94df(0x1c5)]({'website_name':_0x1e6234['uKOxk'],'website_email':_0x3a94df(0x192),'website_text':_0x3a94df(0x19f),'website_color_primary':'#ffff','website_color_secondary':_0x1e6234['NllAs'],'website_link':_0x3a94df(0x185),'ios_link':_0x1e6234['jfpZG'],'android_link':_0x1e6234[_0x3a94df(0x18d)],'tell_a_friend_link':_0x1e6234['MqSgA'],'baseUrl':_0x1e6234[_0x3a94df(0x163)],'TWILIO_ACCOUNT_SID':process['env'][_0x3a94df(0x1cd)],'TWILIO_AUTH_TOKEN':process['env'][_0x3a94df(0x1dc)],'TWILIO_FROM_NUMBER':process[_0x3a94df(0x128)][_0x3a94df(0x1ce)]});}catch(_0x4bb157){console[_0x3a94df(0x1e3)](_0x1e6234[_0x3a94df(0x21f)],_0x4bb157);}}async function createApp(_0x3ef245={}){const _0x1f9c24=a0_0x112084,_0x28c669={'zHkON':function(_0x702d96,_0x5c2dbc){return _0x702d96===_0x5c2dbc;},'okSAY':function(_0x3c0f19,_0x48c650){return _0x3c0f19(_0x48c650);},'htWSh':function(_0x366fc5,_0x4970a4,_0x770ecc){return _0x366fc5(_0x4970a4,_0x770ecc);},'UFuSk':function(_0x1c7fe9,_0x4fad3f){return _0x1c7fe9(_0x4fad3f);},'FZxss':function(_0x8c4943,_0x4f8d38){return _0x8c4943(_0x4f8d38);},'NWBJY':function(_0x15311e,_0x328dfb){return _0x15311e(_0x328dfb);},'QMLfW':function(_0x4a2349,_0x3ec378,_0x3b4f42){return _0x4a2349(_0x3ec378,_0x3b4f42);}},_0x556b10=await setupExpress({'routes':_0x3ef245[_0x1f9c24(0x1f5)],'product_type':_0x3ef245[_0x1f9c24(0x203)]}),_0x38a31=import_http[_0x1f9c24(0x1bc)]['createServer'](_0x556b10);let _0x4045d0;if(_0x3ef245['enableSocket']&&_0x3ef245[_0x1f9c24(0x1c2)]?.[_0x1f9c24(0x12d)]&&_0x3ef245[_0x1f9c24(0x1c6)])_0x4045d0=setupSocketIO(_0x38a31,{'jwtSecret':_0x3ef245[_0x1f9c24(0x1c6)],'models':_0x3ef245[_0x1f9c24(0x1c2)]}),_0x28c669['zHkON'](typeof _0x3ef245[_0x1f9c24(0x1c0)],'function')&&_0x3ef245[_0x1f9c24(0x1c0)](_0x4045d0);else throw new Error(_0x1f9c24(0x13e));return _0x3ef245[_0x1f9c24(0x193)]?.[_0x1f9c24(0x167)]&&_0x3ef245[_0x1f9c24(0x193)]['forEach'](({schedule:_0x4e9717,job:_0x3d247f})=>{const _0x25fa6a=_0x1f9c24;import_node_cron[_0x25fa6a(0x1bc)]['schedule'](_0x4e9717,_0x3d247f);}),await _0x3ef245[_0x1f9c24(0x1f7)][_0x1f9c24(0x1a3)]({'alter':![]}),await checkAppFlowAndCreate(_0x3ef245[_0x1f9c24(0x1c2)][_0x1f9c24(0x208)]),await _0x28c669[_0x1f9c24(0x1de)](checkAdminAndCreate,_0x3ef245['models'][_0x1f9c24(0x20e)]),await _0x28c669[_0x1f9c24(0x1e8)](checkAppsettingAndCreate,_0x3ef245['models'][_0x1f9c24(0x16b)],_0x3ef245[_0x1f9c24(0x1c2)][_0x1f9c24(0x1dd)]),await _0x28c669['UFuSk'](checkWebsettingAndCreate,_0x3ef245[_0x1f9c24(0x1c2)][_0x1f9c24(0x14a)]),await _0x28c669[_0x1f9c24(0x1c8)](checkOneSignalsettingAndCreate,_0x3ef245[_0x1f9c24(0x1c2)][_0x1f9c24(0x217)]),await addDefaultEntries(_0x3ef245['models'][_0x1f9c24(0x19e)],_0x3ef245[_0x1f9c24(0x1c2)][_0x1f9c24(0x224)],_0x3ef245['sequelize'],_0x3ef245[_0x1f9c24(0x1c3)]),await _0x28c669[_0x1f9c24(0x158)](checkGroupsettingAndCreate,_0x3ef245[_0x1f9c24(0x1c2)]['Group_Setting']),_0x3ef245[_0x1f9c24(0x205)]?.[_0x1f9c24(0x1d8)]&&_0x3ef245[_0x1f9c24(0x205)]?.['addLanguageColumn']&&await _0x28c669[_0x1f9c24(0x1f9)](processLanguages,_0x3ef245[_0x1f9c24(0x205)][_0x1f9c24(0x1d8)],_0x3ef245['language_functions'][_0x1f9c24(0x19a)]),{'app':_0x556b10,'server':_0x38a31,'io':_0x4045d0};}0x0&&(module[a0_0x112084(0x211)]={'createApp':createApp});